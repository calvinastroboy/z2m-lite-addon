{"version":3,"file":"DeviceDetail-BlYgazT-.js","sources":["../../src/pages/DeviceDetail.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ChevronLeft, Pencil, Power, Info } from 'lucide-react';\nimport { useDeviceStore } from '../stores/deviceStore';\nimport { useDevices } from '../hooks/useDevices';\nimport { deviceService } from '../services/deviceService';\nimport { toast } from 'sonner';\n\nexport function DeviceDetail() {\n  const { deviceId } = useParams<{ deviceId: string }>();\n  const navigate = useNavigate();\n  const byId = useDeviceStore((s) => s.byId);\n  const { controlDevice } = useDevices();\n  const device = deviceId ? byId[decodeURIComponent(deviceId)] : undefined;\n\n  const [renameOpen, setRenameOpen] = useState(false);\n  const [newName, setNewName] = useState('');\n\n  if (!device) {\n    return (\n      <div className=\"p-5\">\n        <button onClick={() => navigate('/')} className=\"mb-4 flex items-center gap-2 text-sm\"\n          style={{ color: 'var(--text-secondary)', minHeight: 'auto', minWidth: 'auto' }}>\n          <ChevronLeft size={16} /> 返回\n        </button>\n        <p style={{ color: 'var(--text-tertiary)' }}>找不到設備</p>\n      </div>\n    );\n  }\n\n  const isOnline = device.lastSeen\n    ? Date.now() - device.lastSeen < 5 * 60 * 1000\n    : device.interview_completed !== false;\n  const isOn = device.state?.state === 'ON';\n  const hasOnOff = device.capabilities?.onOff ?? false;\n  const hasBrightness = device.capabilities?.brightness ?? false;\n  const hasColorTemp = device.capabilities?.colorTemperature ?? false;\n  const brightness = device.state?.brightness != null ? Math.round(Number(device.state.brightness) / 2.54) : 0;\n  const endpoints = device.capabilities?.endpoints;\n  const isMultiEndpoint = endpoints && endpoints.length > 1;\n\n  const handleRename = async () => {\n    if (!newName.trim() || newName.trim() === device.friendly_name) return;\n    try {\n      await deviceService.renameDevice(device.friendly_name, newName.trim());\n      toast.success(`已改名為「${newName.trim()}」`);\n      setRenameOpen(false);\n      navigate(`/device/${encodeURIComponent(newName.trim())}`, { replace: true });\n    } catch {\n      toast.error('改名失敗');\n    }\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-5 pb-4 pt-2\">\n        <div className=\"flex items-center gap-3\">\n          <button onClick={() => navigate('/')} className=\"flex h-8 w-8 items-center justify-center rounded-full\"\n            style={{ background: 'var(--bg-card)', minHeight: 'auto', minWidth: 'auto' }}>\n            <ChevronLeft size={18} />\n          </button>\n          <h1 className=\"max-w-[250px] truncate text-[20px] font-bold\">{device.friendly_name}</h1>\n        </div>\n        <button onClick={() => { setNewName(device.friendly_name); setRenameOpen(true); }}\n          className=\"flex h-10 w-10 items-center justify-center rounded-full border transition-all active:scale-[0.92]\"\n          style={{ background: 'var(--bg-card)', borderColor: 'var(--z2m-border)' }}>\n          <Pencil size={16} />\n        </button>\n      </div>\n\n      {/* Rename Dialog */}\n      {renameOpen && (\n        <div className=\"mx-5 mb-4 rounded-2xl border p-4\" style={{ background: 'var(--bg-card)', borderColor: 'var(--z2m-border)' }}>\n          <div className=\"mb-3 text-sm font-medium\">設備改名</div>\n          <input type=\"text\" value={newName} onChange={(e) => setNewName(e.target.value)}\n            className=\"mb-3 w-full rounded-xl border px-4 py-3 text-sm\"\n            style={{ background: 'var(--bg-elevated)', borderColor: 'var(--z2m-border)', color: 'var(--text-primary)' }}\n            onKeyDown={(e) => e.key === 'Enter' && handleRename()} autoFocus />\n          <div className=\"flex gap-2\">\n            <button onClick={() => setRenameOpen(false)} className=\"flex-1 rounded-xl py-2.5 text-sm\"\n              style={{ background: 'var(--bg-elevated)', color: 'var(--text-secondary)' }}>取消</button>\n            <button onClick={handleRename} className=\"flex-1 rounded-xl py-2.5 text-sm font-semibold\"\n              style={{ background: 'var(--z2m-accent)', color: '#000' }}>確認</button>\n          </div>\n        </div>\n      )}\n\n      {/* Multi-endpoint Control Card */}\n      {isMultiEndpoint && (\n        <div className=\"mx-5 mb-4 rounded-2xl border p-5\" style={{ background: 'var(--bg-card)', borderColor: 'var(--z2m-border)' }}>\n          <div className=\"mb-3 text-[14px] font-semibold\">開關控制</div>\n          <div className=\"space-y-3\">\n            {endpoints.map((ep) => {\n              const epState = device.state?.[ep.property] === 'ON';\n              return (\n                <div key={ep.endpoint} className=\"flex items-center justify-between rounded-xl p-3\"\n                  style={{ background: 'var(--bg-elevated)' }}>\n                  <div className=\"flex items-center gap-3\">\n                    <Power size={20} style={{ color: epState ? 'var(--z2m-accent)' : 'var(--text-tertiary)' }} />\n                    <div>\n                      <div className=\"text-[14px] font-medium\">開關 {ep.endpoint.toUpperCase()}</div>\n                      <div className=\"text-[12px]\" style={{ color: epState ? 'var(--z2m-accent)' : 'var(--text-tertiary)' }}>\n                        {epState ? '開啟' : '關閉'}\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    className=\"relative h-[28px] w-[50px] cursor-pointer rounded-full transition-colors duration-300\"\n                    style={{ background: epState ? 'var(--z2m-accent)' : 'rgba(255,255,255,0.1)' }}\n                    onClick={() => controlDevice(device.friendly_name, { [ep.property]: epState ? 'OFF' : 'ON' })}\n                  >\n                    <div className=\"absolute top-[3px] h-[22px] w-[22px] rounded-full bg-white transition-transform duration-300\"\n                      style={{ transform: epState ? 'translateX(24px)' : 'translateX(3px)', boxShadow: '0 1px 3px rgba(0,0,0,0.3)' }} />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Single Control Card */}\n      {hasOnOff && !isMultiEndpoint && (\n        <div className=\"mx-5 mb-4 rounded-2xl border p-5\" style={{ background: 'var(--bg-card)', borderColor: 'var(--z2m-border)' }}>\n          <div className=\"mb-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Power size={24} style={{ color: isOn ? 'var(--z2m-accent)' : 'var(--text-tertiary)' }} />\n              <span className=\"text-lg font-semibold\">{isOn ? '開啟' : '關閉'}</span>\n            </div>\n            <div\n              className=\"relative h-[28px] w-[50px] cursor-pointer rounded-full transition-colors duration-300\"\n              style={{ background: isOn ? 'var(--z2m-accent)' : 'var(--bg-elevated)' }}\n              onClick={() => controlDevice(device.friendly_name, { state: isOn ? 'OFF' : 'ON' })}\n            >\n              <div className=\"absolute top-[3px] h-[22px] w-[22px] rounded-full bg-white transition-transform duration-300\"\n                style={{ transform: isOn ? 'translateX(24px)' : 'translateX(3px)', boxShadow: '0 1px 3px rgba(0,0,0,0.3)' }} />\n            </div>\n          </div>\n\n          {/* Brightness */}\n          {hasBrightness && (\n            <div className=\"mb-4\">\n              <div className=\"mb-2 flex justify-between text-[13px]\">\n                <span style={{ color: 'var(--text-secondary)' }}>亮度</span>\n                <span style={{ color: 'var(--z2m-accent)' }}>{brightness}%</span>\n              </div>\n              <input type=\"range\" min={1} max={100} value={brightness}\n                onChange={(e) => controlDevice(device.friendly_name, { brightness: Math.round(Number(e.target.value) * 2.54) })}\n                className=\"w-full cursor-pointer accent-amber-500\"\n                disabled={!isOnline || !isOn}\n                style={{ accentColor: 'var(--z2m-accent)' }} />\n            </div>\n          )}\n\n          {/* Color Temp */}\n          {hasColorTemp && (\n            <div>\n              <div className=\"mb-2 flex justify-between text-[13px]\">\n                <span style={{ color: 'var(--text-secondary)' }}>色溫</span>\n                <span style={{ color: 'var(--text-tertiary)' }}>\n                  {device.state?.color_temp ? `${Math.round(1000000 / Number(device.state.color_temp))}K` : '—'}\n                </span>\n              </div>\n              <input type=\"range\" min={153} max={500} value={Number(device.state?.color_temp ?? 370)}\n                onChange={(e) => controlDevice(device.friendly_name, { color_temp: Number(e.target.value) })}\n                className=\"w-full cursor-pointer\"\n                disabled={!isOnline || !isOn}\n                style={{ accentColor: 'var(--z2m-accent)' }} />\n              <div className=\"mt-1 flex justify-between text-[11px]\" style={{ color: 'var(--text-tertiary)' }}>\n                <span>冷光 6500K</span>\n                <span>暖光 2000K</span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Device Info Card */}\n      <div className=\"mx-5 mb-4 rounded-2xl border p-4\" style={{ background: 'var(--bg-card)', borderColor: 'var(--z2m-border)' }}>\n        <div className=\"mb-3 flex items-center gap-2\">\n          <Info size={16} style={{ color: 'var(--text-tertiary)' }} />\n          <span className=\"text-[14px] font-semibold\">設備資訊</span>\n        </div>\n        <div className=\"space-y-2 text-[13px]\">\n          <div className=\"flex justify-between\">\n            <span style={{ color: 'var(--text-tertiary)' }}>狀態</span>\n            <span style={{ color: isOnline ? 'var(--z2m-green)' : 'var(--z2m-red)' }}>\n              {isOnline ? '● 在線' : '● 離線'}\n            </span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span style={{ color: 'var(--text-tertiary)' }}>類型</span>\n            <span>{device.type}</span>\n          </div>\n          {device.definition?.vendor && (\n            <div className=\"flex justify-between\">\n              <span style={{ color: 'var(--text-tertiary)' }}>廠商</span>\n              <span>{device.definition.vendor}</span>\n            </div>\n          )}\n          {device.definition?.model && (\n            <div className=\"flex justify-between\">\n              <span style={{ color: 'var(--text-tertiary)' }}>型號</span>\n              <span>{device.definition.model}</span>\n            </div>\n          )}\n          <div className=\"flex justify-between\">\n            <span style={{ color: 'var(--text-tertiary)' }}>IEEE 地址</span>\n            <span className=\"font-mono text-[11px]\">{device.ieee_address}</span>\n          </div>\n          {device.state?.linkquality != null && (\n            <div className=\"flex justify-between\">\n              <span style={{ color: 'var(--text-tertiary)' }}>信號品質</span>\n              <span>{device.state.linkquality}/255</span>\n            </div>\n          )}\n          {device.power_source && (\n            <div className=\"flex justify-between\">\n              <span style={{ color: 'var(--text-tertiary)' }}>供電方式</span>\n              <span>{device.power_source === 'Battery' ? '電池' : device.power_source === 'Mains (single phase)' ? '市電' : device.power_source}</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["DeviceDetail","deviceId","useParams","navigate","useNavigate","byId","useDeviceStore","s","controlDevice","useDevices","device","renameOpen","setRenameOpen","useState","newName","setNewName","jsxs","jsx","ChevronLeft","isOnline","isOn","hasOnOff","hasBrightness","hasColorTemp","brightness","endpoints","isMultiEndpoint","handleRename","deviceService","toast","Pencil","e","ep","epState","Power","Info"],"mappings":"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"}